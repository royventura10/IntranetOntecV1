<!DOCTYPE html >
<html   xml:lang="en" lang="en" 
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:th="https://www.thymeleat.org">
    <!--dashboard-head-->
    <head th:replace="layout/dashboard :: dashboard-head">
        <title>GRUPO ONTEC | Dashboard</title>
        
    </head>
    <body>


        <div id="wrapper">

            <!--dashboard-nav-->
            <nav th:replace="layout/dashboard :: dashboard-nav">
            </nav>

            <div id="page-wrapper" class="gray-bg">
                <!--dashboard-nav-superior-->
                <div th:replace="layout/dashboard :: dashboard-nav-superior">
                </div>

                <!--Ruta Marca -->
                <div class="row wrapper border-bottom white-bg page-heading">
                    <div class="col-lg-10">
                        <h2>Gestion de Equipos</h2>
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item">
                                <a href="index.html">Home</a>
                            </li>
                            <li class="breadcrumb-item">
                                <a>Mantenimiento</a>
                            </li>
                            <li class="breadcrumb-item active">
                                <strong>Equipos</strong>
                            </li>
                        </ol>
                    </div>
                    <div class="col-lg-2">

                    </div>
                </div>


                <!-- START layout-cuerpo-->
                <div class="wrapper wrapper-content" > 

                 <!--Formulario-->
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="ibox ">
                                <div class="ibox-title">
                                    <h5>Registrar Equipo<small><br>LLenar todos los datos para agregar un nuevo equipo.</small></h5>
                                    <div class="ibox-tools">
                                        <a class="collapse-link">
                                            <i class="fa fa-chevron-up"></i>
                                        </a>
                                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                            <i class="fa fa-wrench"></i>
                                        </a>
                                        <ul class="dropdown-menu dropdown-user">
                                            <li><a href="#" class="dropdown-item">Config option 1</a>
                                            </li>
                                            <li><a href="#" class="dropdown-item">Config option 2</a>
                                            </li>
                                        </ul>
                                        <a class="close-link">
                                            <i class="fa fa-times"></i>
                                        </a>
                                    </div>
                                </div>
                                <div class="ibox-content">
                                    <form th:action='@{/GuardarEquipos}' method="POST">
                                        <div class="form-group row"><label class="col-lg-2 col-form-label">Descripcion:</label>
                                            <div class="col-lg-10"><input id="nom_equi" type="text" name="nom_equi" placeholder="" class="form-control"  required></div>
                                        </div>
                                        <div class="form-group row"><label class="col-sm-2 col-form-label">Serie:</label>
                                            <div class="col-sm-10"><input id="num_serie" type="text" placeholder="" class="form-control" name="num_serie"  required></div>
                                        </div>
                                        <div class="form-group row"><label class="col-sm-2 col-form-label">Precio:</label>
                                            <div class="col-sm-10"><input id="precio" type="text" placeholder="" class="form-control" name="precio"  required></div>
                                        </div>
                                        <div class="form-group row"><label class="col-sm-2 col-form-label">Cantidad:</label>
                                            <div class="col-sm-10"><input id="Cantidad" type="text" placeholder="Cantidad" class="form-control" name="Cantidad"  required></div>
                                         </div>
                                        <div class="form-group row"><label class="col-sm-2 col-form-label" for="floatingSelect">Modelo:</label>
                                        <div class="col-sm-10"> <select  name="ListarModelos" class="form-control" id="floatingSelect1" aria-label=".form-select-lg example">
                                                 <option selected>Elegir</option>    
                                                 <option th:each="ListarModelos:${ListarModelos}" th:text="${ListarModelos.nom_mod}" th:value="${ListarModelos.cod_mod}"></option>
                                                 </select></div></div>
                                        <div class="form-group row"><label class="col-sm-2 col-form-label" for="floatingSelect">Usuario:</label>
                                        <div class="col-sm-10"> <select  name="ListarUsuarios" class="form-control" id="floatingSelect1" aria-label=".form-select-lg example">
                                                 <option selected>Elegir</option>    
                                                 <option th:each="ListarUsuarios:${ListarUsuarios}" th:text="${ListarUsuarios.nomusu}" th:value="${ListarUsuarios.cod_usu}"></option>
                                                 </select></div></div>
                                        <div class="form-group row"><label class="col-sm-2 col-form-label">Imagen:</label>
                                            <div class="col-sm-10" ><input type="file" name="img_pro" id="img_pro" value="" class="form-control" ></div>
                                         </div>
                                        <div class="hr-line-dashed"></div>
                                        <div class="form-group row">
                                            <div class="col-sm-4 col-sm-offset-2">
                                                <button class="btn btn-primary btn-sm" type="submit" >Guardar</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        <!--Lista de Productos-->
                        <div class="col-lg-6">
                            <div class="ibox">
                                <div class="ibox-title">
                                    <h5>Equipos Registrados</h5>
                                    <form class="form-inline" th:action= "MEquipos">
                                    <div class="form-group row"> 
                                    <label class="col-sm-2 col-form-label">Filtro:</label>
                                    <div class="col-sm-10"><input id="nom_equi" type="text" placeholder="Nombre de Equipo" class="form-control" name="nom_equi" th:value="${nom_equi}" ></div>
                                    <div><button class="btn btn-primary mb-3" type="submit"  >Buscar</button>
                                        &nbsp;&nbsp;
                                    <button class="button btn btn-primary mb-3" type="submit" value="limpiar" onclick="limpiarcampos()">Limpiar</button></div>
                                    </div>
                                        </form>
                                    <div class="ibox-tools">
                                        <a class="collapse-link">
                                            <i class="fa fa-chevron-up"></i>
                                        </a>
                                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                            <i class="fa fa-wrench"></i>
                                        </a>
                                        <ul class="dropdown-menu dropdown-user">
                                            <li><a href="#" class="dropdown-item">Config option 1</a>
                                            </li>
                                            <li><a href="#" class="dropdown-item">Config option 2</a>
                                            </li>
                                        </ul>
                                        <a class="close-link">
                                            <i class="fa fa-times"></i>
                                        </a>
                                    </div>
                                </div>

                                <div class="ibox-content">
                                    <table class="footable table table-stripped toggle-arrow-tiny" data-page-size="15">
                                        <thead>
                                            <tr>
                                                <th data-toggle="true">Código</th>
                                                <th data-toggle="true">N° Serie</th>
                                                <th data-toggle="true">Descripcion</th>
                                                <th data-toggle="true">Modelo</th>
                                                <th data-toggle="true">Registrado por:</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr th:each="Equipos:${Equipos1}">
                                                <td th:text="${Equipos.cod_equi}"></td>
                                                <td th:text="${Equipos.num_serie}"></td>
                                                <td th:text="${Equipos.nom_equi}"></td>
                                                <td th:text="${Equipos.modelo.nom_mod}"></td>
                                                <td th:text="${Equipos.usuario.nomusu}"></td>
                                                <td class="text-right">
                                                    <div class="btn-group">
                                                         <a type="button" class="btn-white btn btn-xs" th:href ="@{/EEquipos(cod_equi=${Equipos.cod_equi})}">Editar</a>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td colspan="6">
                                                    <ul class="pagination float-right"></ul>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <script type="text/javascript">
                    function limpiarcampos()
                    {
                        
                        window.location='MEquipos/';
                    }
                    
                </script>


                <!--dashboard-footer-->
                <div th:replace="layout/dashboard :: dashboard-footer" >
                </div>
            </div>
        </div> 
        <!--dashboard-navigation-bar-->
        <div th:replace="layout/dashboard :: dashboard-navigation-bar" >
        </div>
        </div>


        <!-- Mainly scripts -->
        <script src="js/jquery-3.1.1.min.js"></script>
        <script src="js/popper.min.js"></script>
        <script src="js/bootstrap.js"></script>
        <script src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
        <script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

        <!-- Flot -->
        <script src="js/plugins/flot/jquery.flot.js"></script>
        <script src="js/plugins/flot/jquery.flot.tooltip.min.js"></script>
        <script src="js/plugins/flot/jquery.flot.spline.js"></script>
        <script src="js/plugins/flot/jquery.flot.resize.js"></script>
        <script src="js/plugins/flot/jquery.flot.pie.js"></script>
        <script src="js/plugins/flot/jquery.flot.symbol.js"></script>
        <script src="js/plugins/flot/curvedLines.js"></script>

        <!-- Peity -->
        <script src="js/plugins/peity/jquery.peity.min.js"></script>
        <script src="js/demo/peity-demo.js"></script>

        <!-- Custom and plugin javascript -->
        <script src="js/inspinia.js"></script>
        <script src="js/plugins/pace/pace.min.js"></script>

        <!-- jQuery UI -->
        <script src="js/plugins/jquery-ui/jquery-ui.min.js"></script>

        <!-- Jvectormap -->
        <script src="js/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
        <script src="js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>

        <!-- Sparkline -->
        <script src="js/plugins/sparkline/jquery.sparkline.min.js"></script>

        <!-- Sparkline demo data  -->
        <script src="js/demo/sparkline-demo.js"></script>

        <!-- ChartJS-->
        <script src="js/plugins/chartJs/Chart.min.js"></script>
        
    </body>
</html>
